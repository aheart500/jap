(this["webpackJsonpjap-front"]=this["webpackJsonpjap-front"]||[]).push([[0],{120:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(9),l=t.n(c),i=(t(98),r.a.memo((function(e){var a=e.balance;return r.a.createElement("header",null,"\u0631\u0635\u064a\u062f\u0643 : ",a)}))),o=t(20),s=t.n(o),m=t(30),u=t(73),d=t(18),v=t(15),p=t(24),f=t(169),E=t(175),b=t(165),g=t(168),h=t(172),y=t(153),N=t(174),j=t(161),C=t(164),O=t(170),w=t(173),k=t(163),x=t(158),F=t(159),S=t(157),q=t(151),B=t(160),P=r.a.forwardRef((function(e,a){return r.a.createElement(q.a,Object.assign({direction:"up",ref:a},e))})),T=Object(y.a)((function(e){var a;return{formControl:{marginBottom:"1rem"},select:Object(p.a)({backgroundColor:"#fff",width:"60%"},e.breakpoints.down("md"),{width:"100%"}),formControlLabel:{marginRight:"0","& span":{fontFamily:"Cairo",fontSize:"1.2rem",color:"#fff"}},formControlLabel2:{marginRight:"0","& span":{fontFamily:"Cairo"}},helperText:{fontSize:"0.9rem",fontFamily:"Cairo",textAlign:"right"},textField:(a={backgroundColor:"#fff",width:"60%",direction:"ltr","& input":{textIndent:"10px"}},Object(p.a)(a,e.breakpoints.down("md"),{width:"100%"}),Object(p.a)(a,"& .MuiInputLabel-formControl",{left:"unset"}),a),submitButton:Object(p.a)({width:"60%",fontSize:"1.2rem",fontFamily:"Cairo"},e.breakpoints.down("md"),{width:"100%"})}})),I=r.a.memo((function(e){var a=e.services,t=e.Add,c=T(),l=Object(n.useState)({category:"",service:"",link:"",quantity:"",retail:!1,runs:"",interval:""}),i=Object(v.a)(l,2),o=i[0],y=i[1],q=Object(n.useState)([]),I=Object(v.a)(q,2),L=I[0],A=I[1],M=Object(n.useState)(!1),R=Object(v.a)(M,2),z=R[0],D=R[1],$=function(){H(!1),D(!z)},J=function(){return V(!U)},W=Object(n.useState)(!1),_=Object(v.a)(W,2),G=_[0],H=_[1],K=Object(n.useState)(!1),Q=Object(v.a)(K,2),U=Q[0],V=Q[1],X=Object(n.useState)({}),Y=Object(v.a)(X,2),Z=Y[0],ee=Y[1],ae=function(e){"category"===e.target.name?y(Object(d.a)(Object(d.a)({},o),{},Object(p.a)({service:""},e.target.name,e.target.value))):y(Object(d.a)(Object(d.a)({},o),{},Object(p.a)({},e.target.name,e.target.value)))},te=o.quantity*o.runs,ne=o.runs?o.runs*o.service.rate*o.quantity:o.quantity*o.service.rate;ne/=1e3,"Custom Comments"===o.service.type&&(ne/=100);var re=Object(u.a)(new Set(a.map((function(e){return e.category})))),ce=function(){var e=Object(m.a)(s.a.mark((function e(){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ee({}),e.prev=1,e.next=4,t(o);case 4:(a=e.sent).data.order?(ee({type:"success",order:a.data.order}),D(!1),V(!0),y({category:"",service:"",link:"",quantity:"",retail:!1,runs:"",interval:""})):(ee({type:"failure"}),D(!1),V(!0)),e.next=14;break;case 8:e.prev=8,e.t0=e.catch(1),ee({type:"failure"}),D(!1),V(!0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{open:z,TransitionComponent:P,keepMounted:!0,onClose:$,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},r.a.createElement(S.a,{id:"alert-dialog-slide-title"},"\u062a\u0623\u0643\u064a\u062f \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a"),r.a.createElement(x.a,null,r.a.createElement(F.a,{id:"alert-dialog-slide-description"},"\u0628\u0631\u062c\u0627\u0621 \u0627\u0644\u062a\u0623\u0643\u062f \u0645\u0646 \u062c\u0645\u064a\u0639 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0642\u0628\u0644 \u0625\u0643\u0645\u0627\u0644 \u0627\u0644\u0639\u0645\u0644\u064a\u0629 \u062d\u064a\u062b \u0623\u0646 \u0627\u0644\u0645\u0648\u0642\u0639 \u063a\u064a\u0631 \u0645\u0633\u0624\u0644 \u0639\u0646 \u0623\u064a\u0629 \u0623\u062e\u0637\u0627\u0621 \u0641\u064a \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a"),r.a.createElement(B.a,null),r.a.createElement("div",{className:"confirmationDia"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"right-col"},"\u0631\u0642\u0645 \u0627\u0644\u062e\u062f\u0645\u0629"),r.a.createElement("div",null,o.service.service)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"right-col"}," \u0627\u0633\u0645 \u0627\u0644\u062e\u062f\u0645\u0629"),r.a.createElement("div",null,o.service.name)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"right-col"}," \u0627\u0644\u0631\u0627\u0628\u0637"),r.a.createElement("div",null,o.link)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"right-col"}," \u0627\u0644\u0643\u0645\u064a\u0629"),r.a.createElement("div",null,o.quantity)),o.runs>0&&r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"right-col"}," \u0639\u062f\u062f \u0627\u0644\u0645\u0631\u0627\u062a"),r.a.createElement("div",null,o.runs)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"right-col"}," \u0627\u0644\u0633\u0639\u0631"),r.a.createElement("div",null,"$".concat(isNaN(ne)?"":ne.toString()))),r.a.createElement(B.a,null),r.a.createElement("div",{className:"row"},r.a.createElement(j.a,{className:c.formControlLabel2,control:r.a.createElement(h.a,{checked:G,onChange:function(e){return H(e.target.checked)},name:"checkedA",color:"primary"}),label:"\u0644\u0642\u062f \u0642\u0631\u0623\u062a \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u062c\u064a\u062f\u0627\u064b \u0648\u0647\u064a \u0635\u062d\u064a\u062d\u0629"})))),r.a.createElement(k.a,null,r.a.createElement(C.a,{onClick:$,variant:"contained",color:"secondary"},"\u0627\u0644\u063a\u0627\u0621"),r.a.createElement(C.a,{onClick:ce,variant:"contained",color:"primary",disabled:!G,className:"payBtn"},"\u0625\u062a\u0645\u0627\u0645 \u0627\u0644\u062f\u0642\u0639"))),r.a.createElement(w.a,{open:U,onClose:J,TransitionComponent:P,keepMounted:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(S.a,{id:"alert-dialog-title"},"success"===Z.type?"\u062a\u0645\u062a \u0627\u0644\u0639\u0645\u0644\u064a\u0629 \u0628\u0646\u062c\u0627\u062d":"\u062e\u0637\u0623"),r.a.createElement(x.a,null,"success"===Z.type?r.a.createElement(O.a,{severity:"success"},'\u062a\u0645 \u0625\u062a\u0645\u0627\u0645 \u0627\u0644\u0639\u0645\u0644\u064a\u0629 \u0628\u0646\u062c\u0627\u062d. \u0628\u0631\u062c\u0627\u0621 \u0627\u0644\u0625\u062d\u0646\u0641\u0627\u0638 \u0628\u0631\u0642\u0645 \u0627\u0644\u0637\u0644\u0628 \u0644\u062a\u062a\u0628\u0639 \u062d\u0627\u0644\u062a\u0647 \u0644\u0627\u062d\u0642\u0627\u064b "'.concat(Z.order,'"')):r.a.createElement(O.a,{severity:"error"},"\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u0627\u0644\u0642\u064a\u0627\u0645 \u0628\u0627\u0644\u0639\u0645\u0644\u064a\u0629 \u0628\u0631\u062c\u0627\u0621 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0641\u064a \u0648\u0642\u062a \u0644\u0627\u062d\u0642")),r.a.createElement(k.a,null,r.a.createElement(C.a,{onClick:J,variant:"contained",color:"primary"},"\u062a\u0645"))),r.a.createElement("form",{className:"new-order",onSubmit:function(e){e.preventDefault();var a=[];""===o.category&&a.push("\u0628\u0631\u062c\u0627\u0621 \u062a\u062d\u062f\u064a\u062f \u0646\u0648\u0639 \u0627\u0644\u062e\u062f\u0645\u0629"),""===o.service&&a.push("\u0628\u0631\u062c\u0627\u0621 \u062a\u062d\u062f\u064a\u062f \u0627\u0644\u062e\u062f\u0645\u0629"),""===o.link&&a.push("\u0628\u0631\u062c\u0627\u0621 \u0625\u062f\u062e\u0627\u0644 \u0627\u0644\u0631\u0627\u0628\u0637"),""===o.quantity&&a.push("\u0628\u0631\u062c\u0627\u0621 \u062a\u062d\u062f\u064a\u062f \u0627\u0644\u0643\u0645\u064a\u0629"),a.length>0?(A(a),window.scrollTo(0,0)):$()}},L.map((function(e,a){return r.a.createElement(O.a,{key:a,severity:"error",style:{marginBottom:"0.5rem"}},e)})),r.a.createElement(b.a,{className:c.formControl},r.a.createElement("label",{htmlFor:"category",id:"category"},"\u0646\u0648\u0639 \u0627\u0644\u062e\u062f\u0645\u0629"),r.a.createElement(f.a,{value:o.category,onChange:ae,inputProps:{name:"category"},className:c.select,labelId:"category"},re.map((function(e,a){return r.a.createElement(E.a,{value:e,key:a},e)}))),r.a.createElement(g.a,{className:c.helperText},"\u0627\u062e\u062a\u0631 \u0646\u0648\u0639 \u0627\u0644\u062e\u062f\u0645\u0629 \u0627\u0644\u062a\u064a \u062a\u0631\u064a\u062f \u0634\u0631\u0627\u0626\u0647\u0627")),r.a.createElement(b.a,{className:c.formControl},r.a.createElement("label",{htmlFor:"service",id:"service"},"\u0627\u0644\u062e\u062f\u0645\u0629"),r.a.createElement(f.a,{value:o.service,onChange:ae,inputProps:{name:"service"},className:c.select,labelId:"service",disabled:""===o.category},a.filter((function(e){return e.category===o.category})).map((function(e,a){return r.a.createElement(E.a,{value:e,key:a},"".concat(e.service," ").concat(e.name))}))),r.a.createElement(g.a,{className:c.helperText},"\u0627\u062e\u062a\u0631 \u0627\u0644\u062e\u062f\u0645\u0629 \u0627\u0644\u062a\u064a \u062a\u0631\u064a\u062f \u0634\u0631\u0627\u0626\u0647\u0627")),r.a.createElement("div",{className:"service-desc"},r.a.createElement("span",null,"\u0648\u0635\u0641 \u0627\u0644\u062e\u062f\u0645\u0629"),r.a.createElement("br",null),r.a.createElement("p",null,"\u0636\u062d\u0643 \u0636\u062d\u0643 \u0636\u062d\u0643 \u0636\u062d\u0643\u0636\u062d\u0643 \u0636\u062d\u0643\u0636\u062d\u0643 \u0636\u062d\u0643\u0636\u062d\u0643 \u0636\u062d\u0643\u0636\u062d\u0643",r.a.createElement("br",null),"\u0636\u062d\u0643\u0636\u062d\u0643 \u0636\u062d\u0643\u0636\u062d\u0643 \u0636\u062d\u0643\u0636\u062d\u0643 \u0636\u062d\u0643")),r.a.createElement(b.a,{className:c.formControl},r.a.createElement("label",{htmlFor:"link"},"\u0627\u0644\u0631\u0627\u0628\u0637"),r.a.createElement(N.a,{className:c.textField,id:"link",inputProps:{name:"link"},value:o.link,onChange:ae})),r.a.createElement(b.a,{className:c.formControl},r.a.createElement("label",{htmlFor:"quantity"},"\u0627\u0644\u0643\u0645\u064a\u0629"),r.a.createElement(N.a,{className:c.textField,id:"quantity",inputProps:{name:"quantity"},type:"number",value:o.quantity,onChange:ae}),o.service&&r.a.createElement(g.a,{className:c.helperText},"\u0627\u0644\u062d\u062f \u0627\u0644\u0623\u062f\u0646\u064a: ".concat(o.service.min," - \u0627\u0644\u062d\u062f \u0627\u0644\u0623\u0642\u0635\u064a: ").concat(o.service.max))),"Default"===o.service.type&&r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{className:c.formControl},r.a.createElement(j.a,{className:c.formControlLabel,control:r.a.createElement(h.a,{checked:o.retail,onChange:function(){return y(Object(d.a)(Object(d.a)({},o),{},{retail:!o.retail,runs:"",interval:""}))},name:"checkedB",color:"primary"}),label:"\u0627\u0644\u0634\u0631\u0627\u0621 \u0628\u0627\u0644\u062a\u0642\u0633\u064a\u0637"})),o.retail&&""!==o.service&&r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{className:c.formControl},r.a.createElement("label",{htmlFor:"runs"},"\u0639\u062f\u062f \u0627\u0644\u0645\u0631\u0627\u062a"),r.a.createElement(N.a,{className:c.textField,id:"runs",inputProps:{name:"runs"},type:"number",value:o.runs,onChange:ae})),r.a.createElement(b.a,{className:c.formControl},r.a.createElement("label",{htmlFor:"interval"},"\u0627\u0644\u0641\u0627\u0635\u0644 \u0627\u0644\u0632\u0645\u0646\u064a (\u0628\u0627\u0644\u062f\u0642\u0627\u0626\u0642)"),r.a.createElement(N.a,{className:c.textField,id:"interval",inputProps:{name:"interval"},type:"number",value:o.interval,onChange:ae})),r.a.createElement(b.a,{className:c.formControl},r.a.createElement("label",{htmlFor:"total"},"\u0627\u0644\u0643\u0645\u064a\u0629 \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a\u0629"),r.a.createElement(N.a,{className:c.textField,id:"total",inputProps:{name:"total"},value:te.toString(),disabled:!0})))),r.a.createElement(b.a,{className:c.formControl},r.a.createElement("label",{htmlFor:"price"},"\u0627\u0644\u0633\u0639\u0631"),r.a.createElement(N.a,{className:c.textField,id:"price",inputProps:{name:"price"},value:"$".concat(isNaN(ne)?"":ne.toString()),disabled:!0})),r.a.createElement(C.a,{type:"submit",variant:"contained",color:"primary",className:c.submitButton},"\u062a\u0646\u0641\u064a\u0630")))})),L=Object(n.createContext)(),A=Object(y.a)((function(){return{field:{width:"50%",marginLeft:"1rem","& .MuiInputLabel-formControl":{right:"1rem",left:"unset",fontFamily:"Cairo !important"}},button:{fontSize:"1.2rem",fontFamily:"Cairo"},dialog:{width:"20rem","& .right-col":{width:"40%"}}}})),M=r.a.forwardRef((function(e,a){return r.a.createElement(q.a,Object.assign({direction:"up",ref:a},e))})),R=function(e){var a=e.check,t=Object(n.useState)(!1),c=Object(v.a)(t,2),l=c[0],i=c[1],o=Object(n.useState)(""),u=Object(v.a)(o,2),d=u[0],p=u[1],f=Object(n.useState)({}),E=Object(v.a)(f,2),b=E[0],g=E[1],h=A(),y=function(){return i(!1)},j=function(){var e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a(d);case 3:t=e.sent,i(!0),g(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{open:l,TransitionComponent:M,keepMounted:!0,classes:{paper:h.dialog},onClose:y},r.a.createElement(S.a,{id:"alert-dialog-slide-title"},"\u062d\u0627\u0644\u0629 \u0627\u0644\u0637\u0644\u0628"),r.a.createElement(x.a,null,r.a.createElement(B.a,null),r.a.createElement("div",{className:"confirmationDia"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"right-col"},"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"),r.a.createElement("div",null,b.charge)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"right-col"}," \u0631\u0642\u0645 \u0627\u0644\u0628\u062f\u0627\u064a\u0629"),r.a.createElement("div",null,b.start_count)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"right-col"}," \u0627\u0644\u062d\u0627\u0644\u0629"),r.a.createElement("div",null,"Completed"===b.status?"\u0645\u0643\u062a\u0645\u0644":"In progress"===b.status?"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u0646\u0641\u064a\u0630":"Partial"===b.status?"\u0645\u0643\u062a\u0645\u0644 \u062c\u0632\u0626\u064a":"Canceled"===b.status?"\u0645\u0644\u063a\u064a":"\u0641\u0634\u0644")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"right-col"}," \u0627\u0644\u0645\u062a\u0628\u0642\u064a"),r.a.createElement("div",null,b.remains))),r.a.createElement(B.a,null)),r.a.createElement(k.a,null,r.a.createElement(C.a,{onClick:y,variant:"contained",color:"primary"},"\u062a\u0645"))),r.a.createElement("form",{className:"status"},r.a.createElement(N.a,{variant:"filled",className:h.field,value:d,label:"\u0631\u0642\u0645 \u0627\u0644\u0637\u0644\u0628",onChange:function(e){return p(e.target.value)}}),r.a.createElement(C.a,{variant:"contained",type:"button",color:"primary",className:h.button,onClick:j},"\u062a\u062a\u0628\u0639 \u0627\u0644\u0637\u0644\u0628")))},z=function(){var e=Object(n.useContext)(L),a=e.servicesState,t=e.getBalance,c=e.getServices,l=e.Add,o=e.checkStatus;return Object(n.useEffect)((function(){t()}),[]),Object(n.useEffect)((function(){c()}),[]),r.a.createElement("div",{className:"app"},r.a.createElement(i,{balance:a.balance}),r.a.createElement(I,{services:a.services,Add:l}),r.a.createElement(R,{check:o}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function D(e,a){switch(a.type){case"services":return Object(d.a)(Object(d.a)({},e),{},{services:a.payload});case"balance":return Object(d.a)(Object(d.a)({},e),{},{balance:a.payload});default:return e}}var $=t(45),J=t.n($),W=function(e){var a=e.children,t=Object(n.useReducer)(D,{services:[],balance:"0.00"}),c=Object(v.a)(t,2),l=c[0],i=c[1],o=function(){var e=Object(m.a)(s.a.mark((function e(a){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=J.a.post("/api/order",a),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),u=function(){var e=Object(m.a)(s.a.mark((function e(a){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=J.a.get("/api/order/"+a),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(L.Provider,{value:{servicesState:l,getServices:function(){J.a.get("/api/services").then((function(e){i({type:"services",payload:e.data})})).catch((function(e){console.log(e)}))},getBalance:function(){J.a.get("/api/balance").then((function(e){i({type:"balance",payload:e.data.balance})})).catch((function(e){console.log(e)}))},Add:o,checkStatus:u}},a)};l.a.render(r.a.createElement(W,null,r.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},93:function(e,a,t){e.exports=t(120)},98:function(e,a,t){}},[[93,1,2]]]);
//# sourceMappingURL=main.39d3fbaf.chunk.js.map